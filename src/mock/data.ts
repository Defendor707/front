import type { AnalyticsSnapshot, Call, Chat, User } from "@/types/models"

const now = Date.now()
const iso = (ms: number) => new Date(ms).toISOString()
const minutesAgo = (m: number) => iso(now - m * 60_000)
const hoursAgo = (h: number) => iso(now - h * 3_600_000)
const daysAgo = (d: number) => iso(now - d * 86_400_000)

export const users: User[] = [
  {
    id: "u_1001",
    fullName: "Dilshod Karimov",
    phone: "+998901112233",
    email: "dilshod.karimov@example.uz",
    region: "Toshkent",
    language: "uz",
    createdAt: daysAgo(24),
  },
  {
    id: "u_1002",
    fullName: "Mohinur Abdullayeva",
    phone: "+998935551122",
    email: "mohinur.abdullayeva@example.uz",
    region: "Samarqand",
    language: "uz",
    createdAt: daysAgo(8),
  },
  {
    id: "u_1003",
    fullName: "Azizbek Nematov",
    phone: "+998997771010",
    region: "Farg‘ona",
    language: "uz",
    createdAt: daysAgo(3),
  },
  {
    id: "u_1004",
    fullName: "Sevara Yuldasheva",
    phone: "+998907654321",
    region: "Buxoro",
    language: "uz",
    createdAt: daysAgo(41),
  },
  {
    id: "u_1005",
    fullName: "Ivan Petrov",
    phone: "+998901234567",
    region: "Toshkent",
    language: "ru",
    createdAt: daysAgo(15),
  },
  {
    id: "u_1006",
    fullName: "Shahnoza Islomova",
    phone: "+998931100200",
    region: "Andijon",
    language: "uz",
    createdAt: daysAgo(2),
  },
]

export const chats: Chat[] = [
  {
    id: "c_2001",
    userId: "u_1002",
    status: "open",
    createdAt: minutesAgo(38),
    updatedAt: minutesAgo(2),
    topic: "Kontrakt to‘lovi",
    tags: ["contract", "payment"],
    sentiment: "neutral",
    aiSummary:
      "Foydalanuvchi kontrakt to‘lov muddatlari va to‘lovni bo‘lib-bo‘lib to‘lash imkoniyati haqida so‘radi. AI muddat, rekvizit va bo‘lib-bo‘lib to‘lash shartlarini tushuntirdi.",
    messages: [
      {
        id: "m_1",
        role: "user",
        text: "Assalomu alaykum, kontrakt to‘lovini qachongacha to‘lash kerak?",
        timestamp: minutesAgo(38),
      },
      {
        id: "m_2",
        role: "ai",
        text: "Va alaykum assalom. Odatda to‘lov muddatlari OTM va shartnomada ko‘rsatiladi. Siz qaysi OTM va yo‘nalish bo‘yicha o‘qimoqchisiz?",
        timestamp: minutesAgo(37),
      },
      {
        id: "m_3",
        role: "user",
        text: "TATU, kunduzgi, 2-kurs. Bo‘lib to‘lash mumkinmi?",
        timestamp: minutesAgo(35),
      },
      {
        id: "m_4",
        role: "ai",
        text: "Ko‘p holatda bo‘lib-bo‘lib to‘lash (rassrochka) amaliyoti mavjud. Shartnoma shartlari va OTMning ichki nizomiga bog‘liq. Sizga shartnoma raqami yoki shaxsiy kabinetingiz bormi?",
        timestamp: minutesAgo(34),
      },
      {
        id: "m_5",
        role: "user",
        text: "Ha, shaxsiy kabinet bor.",
        timestamp: minutesAgo(4),
      },
      {
        id: "m_6",
        role: "ai",
        text: "Ajoyib. Shaxsiy kabinetda to‘lov grafiklari va rekvizitlar bo‘limini tekshiring. Agar bo‘lib to‘lash bo‘lsa, u yerda jadval chiqadi. Xohlasangiz, kabinetingizdagi skrinshotni yuboring (shaxsiy ma’lumotlarni yashirib).",
        timestamp: minutesAgo(2),
      },
    ],
  },
  {
    id: "c_2002",
    userId: "u_1001",
    status: "resolved",
    createdAt: hoursAgo(5),
    updatedAt: hoursAgo(4),
    topic: "Diplomni tasdiqlash",
    tags: ["diploma", "verification"],
    sentiment: "positive",
    aiSummary:
      "Diplom tasdiqlash (nostrifikatsiya) bo‘yicha qadamlar tushuntirildi. Foydalanuvchi kerakli hujjatlar ro‘yxatini oldi va ariza topshirish kanallarini bildi.",
    messages: [
      {
        id: "m_21",
        role: "user",
        text: "Diplomni tasdiqlash uchun qayerga murojaat qilaman?",
        timestamp: hoursAgo(5),
      },
      {
        id: "m_22",
        role: "ai",
        text: "Diplomni tasdiqlash jarayoni (nostrifikatsiya) uchun odatda mas’ul tashkilot portali orqali ariza topshiriladi. Siz diplomni qayerda olgansiz (davlat)?",
        timestamp: hoursAgo(5),
      },
      {
        id: "m_23",
        role: "user",
        text: "Qozog‘istonda.",
        timestamp: hoursAgo(4),
      },
      {
        id: "m_24",
        role: "ai",
        text: "Tushunarli. Sizga odatda diplom ilovasi, pasport nusxasi va tarjima/notarial tasdiq talab qilinadi. Arizani topshirgach, holatini shaxsiy kabinetdan kuzatishingiz mumkin.",
        timestamp: hoursAgo(4),
      },
    ],
  },
  {
    id: "c_2003",
    userId: "u_1006",
    status: "escalated",
    createdAt: hoursAgo(2),
    updatedAt: minutesAgo(55),
    topic: "Grant natijalari",
    tags: ["grant", "results"],
    sentiment: "negative",
    aiSummary:
      "Foydalanuvchi grant natijalarini topa olmadi. AI umumiy yo‘l-yo‘riq berdi, ammo foydalanuvchi shaxsiy holati bo‘yicha operatorga uzatildi.",
    messages: [
      {
        id: "m_31",
        role: "user",
        text: "Grant natijalari qachon chiqadi? Men ko‘ra olmayapman.",
        timestamp: hoursAgo(2),
      },
      {
        id: "m_32",
        role: "ai",
        text: "Grant natijalari e’lon qilinadigan sana odatda rasmiy kanallarda chiqadi. Siz qaysi tanlov/tur bo‘yicha ariza bergansiz?",
        timestamp: hoursAgo(2),
      },
      {
        id: "m_33",
        role: "user",
        text: "Magistratura.",
        timestamp: minutesAgo(56),
      },
      {
        id: "m_34",
        role: "ai",
        text: "Magistratura bo‘yicha natijalar rasmiy portal va OTM saytida chiqadi. Siz login bilan kira olasizmi? Agar xohlasangiz, operatorga ulab beraman.",
        timestamp: minutesAgo(55),
      },
    ],
  },
  {
    id: "c_2004",
    userId: "u_1004",
    status: "resolved",
    createdAt: hoursAgo(10),
    updatedAt: hoursAgo(9),
    topic: "Stipendiya",
    tags: ["stipend", "payment"],
    sentiment: "neutral",
    aiSummary:
      "Stipendiya qachon tushishi va kechikish sabablari bo‘yicha savol. AI to‘lov oynasi va tekshiruv yo‘llarini tushuntirdi.",
    messages: [
      {
        id: "m_41",
        role: "user",
        text: "Stipendiya bu oy tushmayapti. Nima qilish kerak?",
        timestamp: hoursAgo(10),
      },
      {
        id: "m_42",
        role: "ai",
        text: "Stipendiya to‘lovlari OTM jadvali va bank ish kunlariga bog‘liq bo‘lishi mumkin. Siz stipendiya turi (oddiy/nomdor) va OTMni ayta olasizmi?",
        timestamp: hoursAgo(10),
      },
      {
        id: "m_43",
        role: "user",
        text: "Oddiy stipendiya, Buxoro.",
        timestamp: hoursAgo(9),
      },
      {
        id: "m_44",
        role: "ai",
        text: "Tushunarli. Dekanat yoki buxgalteriya bo‘limi bilan to‘lov ro‘yxatlari tasdiqlanganini tekshirishni tavsiya qilaman. Agar kartada muammo bo‘lsa, bankdan ham so‘rashingiz mumkin.",
        timestamp: hoursAgo(9),
      },
    ],
  },
  {
    id: "c_2005",
    userId: "u_1003",
    status: "open",
    createdAt: minutesAgo(92),
    updatedAt: minutesAgo(15),
    topic: "Qabul kvotasi",
    tags: ["admissions", "quota"],
    sentiment: "neutral",
    aiSummary:
      "Foydalanuvchi qabul kvotalari va yo‘nalish kesimida o‘rinlar sonini so‘radi. AI rasmiy kvota e’lon qilinadigan manbalarni ko‘rsatdi.",
    messages: [
      {
        id: "m_51",
        role: "user",
        text: "Qabul kvotalari qayerdan ko‘rsam bo‘ladi?",
        timestamp: minutesAgo(92),
      },
      {
        id: "m_52",
        role: "ai",
        text: "Kvotalar odatda rasmiy portal va OTM saytlarida e’lon qilinadi. Siz qaysi yo‘nalish va OTM bo‘yicha qiziqyapsiz?",
        timestamp: minutesAgo(91),
      },
      {
        id: "m_53",
        role: "user",
        text: "Farg‘ona, IT yo‘nalishlari.",
        timestamp: minutesAgo(16),
      },
      {
        id: "m_54",
        role: "ai",
        text: "Tushunarli. Rasmiy kvota e’lon qilingach, yo‘nalish bo‘yicha o‘rinlar soni chiqadi. Xohlasangiz, men sizga mos bo‘lishi mumkin bo‘lgan yo‘nalishlarni ro‘yxatlab beraman.",
        timestamp: minutesAgo(15),
      },
    ],
  },
  {
    id: "c_2006",
    userId: "u_1001",
    status: "resolved",
    createdAt: daysAgo(2),
    updatedAt: daysAgo(2),
    topic: "Akademik ta’til",
    tags: ["academic-leave"],
    sentiment: "positive",
    aiSummary:
      "Akademik ta’til olish tartibi: ariza, tibbiy ma’lumotnoma va dekanat orqali rasmiylashtirish. Muddat va qaytish shartlari tushuntirildi.",
    messages: [
      {
        id: "m_61",
        role: "user",
        text: "Akademik ta’til olish uchun nima kerak?",
        timestamp: daysAgo(2),
      },
      {
        id: "m_62",
        role: "ai",
        text: "Odatda ariza va asoslovchi hujjatlar (masalan, tibbiy ma’lumotnoma) kerak bo‘ladi. Sizning holatingiz qaysi sababga bog‘liq?",
        timestamp: daysAgo(2),
      },
      {
        id: "m_63",
        role: "user",
        text: "Sog‘liq bo‘yicha.",
        timestamp: daysAgo(2),
      },
      {
        id: "m_64",
        role: "ai",
        text: "Tibbiy ma’lumotnoma va ariza bilan dekanatga murojaat qiling. Qaror chiqqach, qaytish tartibi va muddat haqida ham ma’lumot berishadi.",
        timestamp: daysAgo(2),
      },
    ],
  },
  {
    id: "c_2007",
    userId: "u_1005",
    status: "open",
    createdAt: hoursAgo(7),
    updatedAt: hoursAgo(7),
    topic: "Перевод в другой ВУЗ",
    tags: ["transfer", "ru"],
    sentiment: "neutral",
    aiSummary:
      "Пользователь спросил про перевод в другой ВУЗ. AI объяснил общий порядок и какие документы обычно требуются.",
    messages: [
      {
        id: "m_71",
        role: "user",
        text: "Как перевестись в другой университет?",
        timestamp: hoursAgo(7),
      },
      {
        id: "m_72",
        role: "ai",
        text: "Обычно нужен академический справочник/выписка, заявление и подтверждение принимающего ВУЗа. Уточните: перевод внутри страны или из-за рубежа?",
        timestamp: hoursAgo(7),
      },
      {
        id: "m_73",
        role: "user",
        text: "Внутри страны.",
        timestamp: hoursAgo(7),
      },
      {
        id: "m_74",
        role: "ai",
        text: "Тогда чаще всего все оформляется через портал/приемную и деканат. Я могу подсказать чек-лист документов для вашего случая.",
        timestamp: hoursAgo(7),
      },
    ],
  },
  {
    id: "c_2008",
    userId: "u_1006",
    status: "escalated",
    createdAt: hoursAgo(12),
    updatedAt: hoursAgo(11),
    topic: "Ariza holati",
    tags: ["application", "status"],
    sentiment: "negative",
    aiSummary:
      "Ariza holati bo‘yicha muammo: foydalanuvchi kabinetga kira olmagan. AI tiklash yo‘lini aytdi, ammo operatorga eskalatsiya qilindi.",
    messages: [
      {
        id: "m_81",
        role: "user",
        text: "Arizam holatini ko‘ra olmayapman, kabinet ochilmayapti.",
        timestamp: hoursAgo(12),
      },
      {
        id: "m_82",
        role: "ai",
        text: "Kirishda xatolik chiqyaptimi yoki parol esdan chiqdimi? Agar parol bo‘lsa, “Parolni tiklash” orqali urinib ko‘ring.",
        timestamp: hoursAgo(12),
      },
      {
        id: "m_83",
        role: "user",
        text: "Xatolik chiqyapti, kirib bo‘lmayapti.",
        timestamp: hoursAgo(11),
      },
      {
        id: "m_84",
        role: "ai",
        text: "Tushunarli. Operatorga ulab beraman: ular texnik tekshiruv uchun login yoki telefon raqamingizni so‘rashadi.",
        timestamp: hoursAgo(11),
      },
    ],
  },
  {
    id: "c_2009",
    userId: "u_1002",
    status: "resolved",
    createdAt: daysAgo(5),
    updatedAt: daysAgo(5),
    topic: "Talaba ID",
    tags: ["student-id"],
    sentiment: "positive",
    aiSummary:
      "Talaba ID (student card) olish tartibi bo‘yicha savol. AI kerakli hujjatlar va topshirish joyini tushuntirdi.",
    messages: [
      {
        id: "m_91",
        role: "user",
        text: "Talaba ID kartasini qanday olaman?",
        timestamp: daysAgo(5),
      },
      {
        id: "m_92",
        role: "ai",
        text: "Odatda dekanat yoki talabalar bo‘limi orqali rasmiylashtiriladi. Pasport nusxasi va 3x4 foto talab qilinishi mumkin.",
        timestamp: daysAgo(5),
      },
    ],
  },
  {
    id: "c_2010",
    userId: "u_1004",
    status: "resolved",
    createdAt: daysAgo(10),
    updatedAt: daysAgo(10),
    topic: "Dars jadvali",
    tags: ["schedule"],
    sentiment: "neutral",
    aiSummary:
      "Dars jadvali qayerdan ko‘rilishi tushuntirildi: OTM portalidagi jadval bo‘limi va guruh koordinatori orqali.",
    messages: [
      {
        id: "m_101",
        role: "user",
        text: "Dars jadvalini qayerdan ko‘rsam bo‘ladi?",
        timestamp: daysAgo(10),
      },
      {
        id: "m_102",
        role: "ai",
        text: "Ko‘p OTMlarda dars jadvali portal yoki mobil ilovada bo‘ladi. Agar yo‘q bo‘lsa, dekanat/guruh koordinatori orqali olinadi.",
        timestamp: daysAgo(10),
      },
    ],
  },
]

export const calls: Call[] = [
  {
    id: "k_3001",
    userId: "u_1005",
    direction: "inbound",
    status: "completed",
    startedAt: hoursAgo(1),
    endedAt: minutesAgo(52),
    durationSec: 480,
    operatorName: "AI Voice",
    recordingUrl: null,
    transcript:
      "User asked about admissions timeline. AI explained key dates and where to check official updates.",
    aiSummary:
      "Qabul muddatlari bo‘yicha savol. AI asosiy sanalar va rasmiy manbalarni aytdi.",
    sentiment: "neutral",
    tags: ["admissions", "timeline"],
  },
  {
    id: "k_3002",
    userId: "u_1003",
    direction: "outbound",
    status: "missed",
    startedAt: hoursAgo(3),
    endedAt: hoursAgo(3),
    durationSec: 0,
    operatorName: "Demo Operator",
    recordingUrl: null,
    transcript: "",
    aiSummary:
      "Outbound qo‘ng‘iroq amalga oshirildi, ammo javob bo‘lmadi. Qayta urinish tavsiya qilindi.",
    sentiment: "neutral",
    tags: ["callback"],
  },
  {
    id: "k_3003",
    userId: "u_1002",
    direction: "inbound",
    status: "completed",
    startedAt: hoursAgo(6),
    endedAt: hoursAgo(6),
    durationSec: 210,
    operatorName: "AI Voice",
    recordingUrl: null,
    transcript:
      "User asked about contract payment installments. AI suggested checking personal cabinet and university policy.",
    aiSummary:
      "Kontrakt to‘lovi bo‘lib-bo‘lib to‘lash bo‘yicha yo‘l-yo‘riq berildi.",
    sentiment: "positive",
    tags: ["contract", "payment"],
  },
  {
    id: "k_3004",
    userId: "u_1001",
    direction: "inbound",
    status: "completed",
    startedAt: hoursAgo(9),
    endedAt: hoursAgo(9),
    durationSec: 260,
    operatorName: "AI Voice",
    recordingUrl: null,
    transcript:
      "User asked about diploma verification steps. AI provided required documents checklist.",
    aiSummary:
      "Diplomni tasdiqlash bo‘yicha hujjatlar ro‘yxati va ariza topshirish yo‘li aytildi.",
    sentiment: "positive",
    tags: ["diploma", "verification"],
  },
  {
    id: "k_3005",
    userId: "u_1006",
    direction: "inbound",
    status: "failed",
    startedAt: hoursAgo(11),
    endedAt: hoursAgo(11),
    durationSec: 12,
    operatorName: "AI Voice",
    recordingUrl: null,
    transcript: "",
    aiSummary:
      "Qo‘ng‘iroq ulanishida xatolik. Keyinroq qayta urinish yoki chat orqali murojaat tavsiya qilindi.",
    sentiment: "negative",
    tags: ["technical"],
  },
  {
    id: "k_3006",
    userId: "u_1002",
    direction: "outbound",
    status: "completed",
    startedAt: daysAgo(1),
    endedAt: daysAgo(1),
    durationSec: 140,
    operatorName: "Demo Operator",
    recordingUrl: null,
    transcript:
      "Operator confirmed contract payment details and sent link to official instructions.",
    aiSummary:
      "Operator kontrakt to‘lovi bo‘yicha ma’lumotni tasdiqladi va rasmiy yo‘riqnoma manzilini yubordi.",
    sentiment: "neutral",
    tags: ["callback", "contract"],
  },
  {
    id: "k_3007",
    userId: "u_1004",
    direction: "inbound",
    status: "missed",
    startedAt: daysAgo(3),
    endedAt: daysAgo(3),
    durationSec: 0,
    operatorName: "AI Voice",
    recordingUrl: null,
    transcript: "",
    aiSummary:
      "Kiruvchi qo‘ng‘iroq javobsiz qoldi. Qayta qo‘ng‘iroq tavsiya qilindi.",
    sentiment: "neutral",
    tags: ["missed"],
  },
  {
    id: "k_3008",
    userId: "u_1003",
    direction: "inbound",
    status: "completed",
    startedAt: daysAgo(6),
    endedAt: daysAgo(6),
    durationSec: 320,
    operatorName: "AI Voice",
    recordingUrl: null,
    transcript:
      "User asked about admission quota. AI explained where quota is published and how to filter by program.",
    aiSummary:
      "Qabul kvotasi bo‘yicha rasmiy e’lon va yo‘nalish kesimi tushuntirildi.",
    sentiment: "neutral",
    tags: ["admissions", "quota"],
  },
]

export const analytics: AnalyticsSnapshot = {
  range: "7d",
  callsTotal: 1280,
  callsAnswered: 1106,
  callsMissed: 174,
  chatsTotal: 3420,
  chatsResolved: 3110,
  avgResponseSec: 42,
  avgHandleTimeSec: 310,
  aiSuccessRate: 0.86,
  topTopics: [
    { topic: "Kontrakt", count: 880 },
    { topic: "Qabul", count: 740 },
    { topic: "Grant", count: 520 },
    { topic: "Diplom", count: 410 },
    { topic: "Stipendiya", count: 300 },
  ],
  callsSeries: [
    { t: daysAgo(6), value: 160 },
    { t: daysAgo(5), value: 190 },
    { t: daysAgo(4), value: 210 },
    { t: daysAgo(3), value: 150 },
    { t: daysAgo(2), value: 175 },
    { t: daysAgo(1), value: 195 },
    { t: daysAgo(0), value: 200 },
  ],
  chatsSeries: [
    { t: daysAgo(6), value: 420 },
    { t: daysAgo(5), value: 520 },
    { t: daysAgo(4), value: 580 },
    { t: daysAgo(3), value: 410 },
    { t: daysAgo(2), value: 470 },
    { t: daysAgo(1), value: 520 },
    { t: daysAgo(0), value: 500 },
  ],
}

